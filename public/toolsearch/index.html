<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="generator" content="Hugo 0.69.0" />

  <title>Tool Search &middot; Climate Tools</title>

  <meta name="description" content="" />

  

<meta itemprop="name" content="Tool Search">
<meta itemprop="description" content="">

<meta itemprop="wordCount" content="0">



<meta itemprop="keywords" content="" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Tool Search"/>
<meta name="twitter:description" content=""/>


<meta property="og:title" content="Tool Search" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cbtooltest.marisa.psu.edu/toolsearch/" />




  <link type="text/css"
        rel="stylesheet"
        href="https://cbtooltest.marisa.psu.edu/css/print.css"
        media="print">

  <link type="text/css"
        rel="stylesheet"
        href="https://cbtooltest.marisa.psu.edu/css/poole.css">

  <link type="text/css"
        rel="stylesheet"
        href="https://cbtooltest.marisa.psu.edu/css/hyde.css">

  


  

  <link rel="stylesheet"
        href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700&display=swap">

  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css"
        integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk="
        crossorigin="anonymous" />

  <link rel="apple-touch-icon-precomposed"
        sizes="144x144"
        href="/apple-touch-icon-144-precomposed.png">

  <link rel="shortcut icon" href="/favicon.png">

  
  </head>
<body>
  <aside class="sidebar">
  <div class="container">
    <div class="sidebar-about">
      
      <div class="author-image">
        <img class="profileImage" src="https://www.psu.edu/profiles/psu_profile/themes/psu_main/logonew.png" alt="">
      </div>
      

      <h1>Climate Tools</h1>

      
    </div>

    <nav>
      <ul class="sidebar-nav">
        <li>
          <a href="https://cbtooltest.marisa.psu.edu/">Home</a>
        </li>
        <li>
          <a href="/tools/"> Tools </a>
        </li><li>
          <a href="/toolsearch/"> Tool Search </a>
        </li>
      </ul>
    </nav>

    <section class="social-icons">
      
    </section>
  </div>
</aside>


  <main class="content container">
  <head>
  <meta charset="utf-8">
  <title>jQuery Get Values of Selected Checboxes</title>
  <script src="https://code.jquery.com/jquery-3.5.0.js"></script>
  <script>
      $(document).ready(function() {
        alert('in script')
        
        var showData = $('#outputList');
        var holdTagSearch = [];
        var holdSoftReqSearch = []; 
        var holdGeoSearch = [];  
        var holdToolFunSearch = [];  
        var holdTopFilSearch = [];  

        
        
        function addTool(name, link){
          this.name = name;
          this.link = link;
        }
        
        
        
        $.sum = function(arr) {
          var r = 0;
          $.each(arr, function(i, v) {
            r += +v;
          });
          return r;
        }
        
        
        
        function selectTools(inTags, tagDat, inSR, reqDat, inGeo, geoDat, inFunct, tFunDat, inFilts, topFilDat){
          var fullResults = [];
          var inTools = [];

          
          if(inFilts.length > 0){
            var items = topFilDat.items.map(function (item){
              if(jQuery.inArray(item.topFilter, inFilts) >= 0){
                if(jQuery.inArray(item.name, inTools) == -1){
                  inTools.push(item.name);
                  var tool = new addTool(item.name, item.link);
                  fullResults.push(tool)
                }
              }
            });
          }

          
          if(inSR.length>0 && fullResults.length>0){
            $.each(fullResults, function(tool) {
              var toolName = this.name;
              var keepTool = 0;
              var toolReqs = [];
              var items = reqDat.items.map(function (item){
                if(item.name == toolName){
                  toolReqs.push(item.softReq)
                }
              });

              
              
              
              
              
              

              for (i=0; i<=toolReqs.length; i++) {
                if(jQuery.inArray(toolReqs[i], inSR) >= 0){
                  keepTool = 1;
                }
              }
              if(keepTool==0){
                var whichRemove = jQuery.inArray(toolName, inTools);
                inTools.splice(whichRemove, 1);
                fullResults.splice(whichRemove, 1);
              }
            });
          }else if(inSR.length>0 && fullResults.length==0){
            var items = reqDat.items.map(function (item){
              if(jQuery.inArray(item.softReq, inSR) >= 0){
                if(jQuery.inArray(item.name, inTools) == -1){
                  inTools.push(item.name);
                  var tool = new addTool(item.name, item.link);
                  fullResults.push(tool)
                }
              }
            });
          }

          
          if(inGeo.length>0 && fullResults.length>0){
            $.each(fullResults, function(tool) {
              var toolName = this.name;
              var keepTool = 0;
              var toolReqs = [];
              var items = geoDat.items.map(function (item){
                if(item.name == toolName){
                  toolReqs.push(item.softReq)
                }
              });

              for (i=0; i<=toolReqs.length; i++) {
                if(jQuery.inArray(toolReqs[i], inGeo) >= 0){
                  keepTool = 1;
                }
              }
              if(keepTool==0){
                var whichRemove = jQuery.inArray(toolName, inTools);
                inTools.splice(whichRemove, 1);
                fullResults.splice(whichRemove, 1);
              }
            });
          }else if(inGeo.length>0 && fullResults.length==0){
            var items = geoDat.items.map(function (item){
              if(jQuery.inArray(item.geoScope, inGeo) >= 0){
                if(jQuery.inArray(item.name, inTools) == -1){
                  inTools.push(item.name);
                  var tool = new addTool(item.name, item.link);
                  fullResults.push(tool)
                }
              }
            });
          }

          
          if(inFunct.length>0 && fullResults.length>0){
            $.each(fullResults, function(tool) {
              var toolName = this.name;
              var keepTool = 0;
              var toolReqs = [];
              var items = tFunDat.items.map(function (item){
                if(item.name == toolName){
                  toolReqs.push(item.toolFun)
                }
              });

              for (i=0; i<=toolReqs.length; i++) {
                if(jQuery.inArray(toolReqs[i], inFunct) >= 0){
                  keepTool = 1;
                }
              }

              if(keepTool==0){
                var whichRemove = jQuery.inArray(toolName, inTools);
                inTools.splice(whichRemove, 1);
                fullResults.splice(whichRemove, 1);
              }

            });
          }else if(inFunct.length>0 && fullResults.length==0){
            var items = tFunDat.items.map(function (item){
              if(jQuery.inArray(item.toolFun, inFunct) >= 0){
                if(jQuery.inArray(item.name, inTools) == -1){
                  inTools.push(item.name);
                  var tool = new addTool(item.name, item.link);
                  fullResults.push(tool)
                }
              }
            });
          }

          
          if(inTags.length>0 && fullResults.length>0){
            $.each(fullResults, function(tool) {
              var toolName = this.name;
              var keepTool = 0;
              var toolReqs = [];
              var items = tagDat.items.map(function (item){
                if(item.name == toolName){
                  toolReqs.push(item.topFilter)
                }
              });

              for (i=0; i<=toolReqs.length; i++) {
                if(jQuery.inArray(toolReqs[i], inTags) >= 0){
                  keepTool = 1;
                }
              }

              if(keepTool==0){
                var whichRemove = jQuery.inArray(toolName, inTools);
                inTools.splice(whichRemove, 1);
                fullResults.splice(whichRemove, 1);
              }

            });
          }else if(inTags.length>0 && fullResults.length==0){
            var items = tagDat.items.map(function (item){
             if(jQuery.inArray(item.tag, inTags) >= 0){
                if(jQuery.inArray(item.name, inTools) == -1){
                  inTools.push(item.name);
                  var tool = new addTool(item.name, item.link);
                  fullResults.push(tool)
                }
              }
            });
          }

          alert('to be added: ' + fullResults.length)
          if(fullResults.length > 0){
            $.each(fullResults, function(tool) {
              newTool = '<li><a href="' + '/tools/' + this.link +'/index.html">' + this.name + '</a></li>';
              showData.append(newTool);
            });
          }
        }
        
        
        function defualtSetup(tagD, reqD, geoD, funD, filtD){
          showData.empty();
          var check = [];
          $('#topFilterSearch :not(:checked)').each(function(){
            check.push($(this).val());
          });
          selectTools(holdTagSearch, tagD, holdSoftReqSearch, reqD, holdGeoSearch, geoD, holdToolFunSearch, funD, check, filtD)
        }
        
        
        function getType(o) {
          return Object.prototype.toString.call(o).match(/^\[object\s(.*)\]$/)[1];
        }
        
        

        jQuery.getMultipleJSON = function(){
          var
            num = 0,
            def = jQuery.Deferred(),
            map = jQuery.map(arguments, function(jsonfile){
              return jQuery.getJSON(jsonfile).then(function(){
                def.notify(1/map.length * ++num, num, map.length);
                return arguments;
              });
            })
          ;
          jQuery.when.apply(jQuery, map)
            .fail(function(){ def.rejectWith(def, arguments); })
            .done(function(){
              def.resolveWith(def, jQuery.map(arguments, function(response){
                return response[0];
              }));
            })
          ;
          return def;
        };


        jQuery.getMultipleJSON('/data/searchTags.json', '/data/searchSoft.json', '/data/searchGeoScope.json', '/data/searchToolFun.json', '/data/searchTopFilter.json')
          .progress(function(percent, count, total){})
          .fail(function(jqxhr, textStatus, error){})
          .done(function(tagData, reqData, geoData, tFunData, topFilData){

            defualtSetup(tagData, reqData, geoData, tFunData, topFilData)

            
            $('#tagTogAll').change(function(){
              showData.empty();
              var searchTags = [];

              var checkboxes = $(this).closest('form').find(':checkbox');
              checkboxes.prop('checked', $(this).is(':checked'));

              $('#tagSearch :checked').each(function(){
                searchTags.push($(this).val());
              });

              holdTagSearch = searchTags;
              var chkNumRes = $.sum([searchTags.length, holdSoftReqSearch.length, holdGeoSearch.length, holdToolFunSearch.length, holdTopFilSearch.length]);
              if(chkNumRes>0){
                selectTools(searchTags, tagData, holdSoftReqSearch, reqData, holdGeoSearch, geoData, holdToolFunSearch, tFunData, holdTopFilSearch, topFilData)
              }else{
                defualtSetup(tagData, reqData, geoData, tFunData, topFilData)
              }
            });
            $('.tagChecks').change(function(){
              showData.empty();
              var searchTags = [];

              if($('.tagChecks:checked').length == $('.tagChecks').length){
                $('#tagTogAll').prop('checked',true);
              }else{
                $('#tagTogAll').prop('checked',false);
              }

              $('#tagSearch :checked').each(function(){
                searchTags.push($(this).val());
              });

              holdTagSearch = searchTags;
              var chkNumRes = $.sum([searchTags.length, holdSoftReqSearch.length, holdGeoSearch.length, holdToolFunSearch.length, holdTopFilSearch.length]);
              if(chkNumRes>0){
                selectTools(searchTags, tagData, holdSoftReqSearch, reqData, holdGeoSearch, geoData, holdToolFunSearch, tFunData, holdTopFilSearch, topFilData)
              }else{
                defualtSetup(tagData, reqData, geoData, tFunData, topFilData)
              }
            });

            
            $('#reqTogAll').change(function(){
              showData.empty();
              var searchSoftReq = [];

              var checkboxes = $(this).closest('form').find(':checkbox');
              checkboxes.prop('checked', $(this).is(':checked'));

              $('#softReqSearch :checked').each(function(){
                searchSoftReq.push($(this).val());
              });

              holdSoftReqSearch = searchSoftReq;
              var chkNumRes = $.sum([holdTagSearch.length, searchSoftReq.length, holdGeoSearch.length, holdToolFunSearch.length, holdTopFilSearch.length]);
              if(chkNumRes>0){
                selectTools(holdTagSearch, tagData, searchSoftReq, reqData, holdGeoSearch, geoData, holdToolFunSearch, tFunData, holdTopFilSearch, topFilData)
              }else{
                defualtSetup(tagData, reqData, geoData, tFunData, topFilData)
              }
            });
            $('.reqChecks').change(function(){
              showData.empty();
              var searchSoftReq = [];

              if($('.reqChecks:checked').length == $('.reqChecks').length){
                $('#reqTogAll').prop('checked',true);
              }else{
                $('#reqTogAll').prop('checked',false);
              }

              $('#softReqSearch :checked').each(function(){
                searchSoftReq.push($(this).val());
              });

              holdSoftReqSearch = searchSoftReq;
              var chkNumRes = $.sum([holdTagSearch.length, searchSoftReq.length, holdGeoSearch.length, holdToolFunSearch.length, holdTopFilSearch.length]);
              if(chkNumRes>0){
                selectTools(holdTagSearch, tagData, searchSoftReq, reqData, holdGeoSearch, geoData, holdToolFunSearch, tFunData, holdTopFilSearch, topFilData)
              }else{
                defualtSetup(tagData, reqData, geoData, tFunData, topFilData)
              }
            });

            
            $('#geoTogAll').change(function(){
              showData.empty();
              var searchGeo = [];

              var checkboxes = $(this).closest('form').find(':checkbox');
              checkboxes.prop('checked', $(this).is(':checked'));

              $('#geoScopeSearch :checked').each(function(){
                searchGeo.push($(this).val());
              });

              holdSoftReqSearch = searchGeo;
              var chkNumRes = $.sum([holdTagSearch.length, searchSoftReq.length, searchGeo.length, holdToolFunSearch.length, holdTopFilSearch.length]);
              if(chkNumRes>0){
                selectTools(holdTagSearch, tagData, searchSoftReq, reqData, searchGeo, geoData, holdToolFunSearch, tFunData, holdTopFilSearch, topFilData)
              }else{
                defualtSetup(tagData, reqData, geoData, tFunData, topFilData)
              }
            });
            $('.geoChecks').change(function(){
              showData.empty();
              var searchGeo = [];

              if($('.geoChecks:checked').length == $('.geoChecks').length){
                $('#geoTogAll').prop('checked',true);
              }else{
                $('#geoTogAll').prop('checked',false);
              }

              $('#geoScopeSearch :checked').each(function(){
                searchGeo.push($(this).val());
              });

              holdSoftReqSearch = searchGeo;
              var chkNumRes = $.sum([holdTagSearch.length, holdSoftReqSearch.length, searchGeo.length, holdToolFunSearch.length, holdTopFilSearch.length]);

              if(chkNumRes>0){
                selectTools(holdTagSearch, tagData, holdSoftReqSearch, reqData, searchGeo, geoData, holdToolFunSearch, tFunData, holdTopFilSearch, topFilData)
              }else{
                defualtSetup(tagData, reqData, geoData, tFunData, topFilData)
              }
            });

            
            $('#tlfunTogAll').change(function(){
              showData.empty();
              var searchToolFun = [];

              var checkboxes = $(this).closest('form').find(':checkbox');
              checkboxes.prop('checked', $(this).is(':checked'));

              $('#toolFunSearch :checked').each(function(){
                searchToolFun.push($(this).val());
              });

              holdToolFunSearch = searchToolFun;
              var chkNumRes = $.sum([holdTagSearch.length, holdSoftReqSearch.length, holdGeoSearch.length, searchToolFun.length, holdTopFilSearch.length]);
              if(chkNumRes>0){
                selectTools(holdTagSearch, tagData, holdSoftReqSearch, reqData, holdGeoSearch, geoData, searchToolFun, tFunData, holdTopFilSearch, topFilData)
              }else{
                defualtSetup(tagData, reqData, geoData, tFunData, topFilData)
              }
            });
            $('.toolFunctChecks').change(function(){
              showData.empty();
              var searchToolFun = [];

              if($('.toolFunctChecks:checked').length == $('.toolFunctChecks').length){
                $('#tlfunTogAll').prop('checked',true);
              }else{
                $('#tlfunTogAll').prop('checked',false);
              }

              $('#toolFunSearch :checked').each(function(){
                searchToolFun.push($(this).val());
              });

              holdToolFunSearch = searchToolFun;
              var chkNumRes = $.sum([holdTagSearch.length, holdSoftReqSearch.length, holdGeoSearch.length, searchToolFun.length, holdTopFilSearch.length]);
              if(chkNumRes>0){
                selectTools(holdTagSearch, tagData, holdSoftReqSearch, reqData, holdGeoSearch, geoData, searchToolFun, tFunData, holdTopFilSearch, topFilData)
              }else{
                defualtSetup(tagData, reqData, geoData, tFunData, topFilData)
              }
            });


            
            $('#topfltTogAll').change(function(){
              showData.empty();
              var searchTopFil = [];

              var checkboxes = $(this).closest('form').find(':checkbox');
              checkboxes.prop('checked', $(this).is(':checked'));

              $('#topFilterSearch :checked').each(function(){
                searchTopFil.push($(this).val());
              });

              holdTagSearch = searchTags;
              var chkNumRes = $.sum([holdTagSearch.length, holdSoftReqSearch.length, holdGeoSearch.length, holdToolFunSearch.length, searchTopFil.length]);
              if(chkNumRes>0){
                selectTools(holdTagSearch, tagData, holdSoftReqSearch, reqData, holdGeoSearch, geoData, holdToolFunSearch, tFunData, searchTopFil, topFilData)
              }else{
                defualtSetup(tagData, reqData, geoData, tFunData, topFilData)
              }
            });
            $('.topFiltChecks').change(function(){
              showData.empty();
              var searchTopFil = [];

              if($('.topFiltChecks:checked').length == $('.topFiltChecks').length){
                $('#topfltTogAll').prop('checked',true);
              }else{
                $('#topfltTogAll').prop('checked',false);
              }

              $('#topFilterSearch :checked').each(function(){
                searchTopFil.push($(this).val());
              });

              holdTopFilSearch = searchTopFil;
              var chkNumRes = $.sum([holdTagSearch.length, holdSoftReqSearch.length, holdGeoSearch.length, holdToolFunSearch.length, searchTopFil.length]);
              if(chkNumRes>0){
                selectTools(holdTagSearch, tagData, holdSoftReqSearch, reqData, holdGeoSearch, geoData, holdToolFunSearch, tFunData, searchTopFil, topFilData)
              }else{
                defualtSetup(tagData, reqData, geoData, tFunData, topFilData)
              }
            });




            
            
          });






        
        
        
      });
  </script>
</head>
<body>
<div class="app-container">
  <div class="app-content">
    <section class="filtered-search">
      <div class="filtered-search-dashboard">
        <div class="filtered-search-banner">
          <h2 class="mb-5">Tool Search</h2>
        </div>
        <div class="filtered-search-filters">
          <fieldset class>
            <fieldset class="singleRow">
              <div class="header">
                <h5>Topic Filter</h5>
                
              </div>
              <form id="topFilterSearch">
                <label><input type="checkbox" aria-selected="false" id=topfltTogAll value="Select All">Select All</label><br>
                <hr>
                <label><input type="checkbox" aria-selected="false" class="topFiltChecks" value="None">None</label><br>
                <label><input type="checkbox" aria-selected="false" class="topFiltChecks" value="Weather and Climate">Weather and Climate</label><br>
                <label><input type="checkbox" aria-selected="false" class="topFiltChecks" value="Flooding">Flooding</label><br>
                <label><input type="checkbox" aria-selected="false" class="topFiltChecks" value="Ecosystem">Ecosystem</label><br>
                <label><input type="checkbox" aria-selected="false" class="topFiltChecks" value="Built Environment">Built Environment</label><br>
              </form>
            </fieldset>
            <fieldset class="singleRow">
            <div class="header">
              <h5>Software Requirements</h5>
              
            </div>
              <form id="softReqSearch">
                <label><input type="checkbox" aria-selected="false" id=reqTogAll value="Select All">Select All</label><br>
                <hr>
                <label><input type="checkbox" aria-selected="false" class="reqChecks" value="None">None</label><br>
                <label><input type="checkbox" aria-selected="false" class="reqChecks" value="R">R</label><br>
                <label><input type="checkbox" aria-selected="false" class="reqChecks" value="R Studio">R Studio</label><br>
                <label><input type="checkbox" aria-selected="false" class="reqChecks" value="ArcMap/ GIS software">ArcMap/ GIS software</label><br>
                <label><input type="checkbox" aria-selected="false" class="reqChecks" value="ArcGIS (optional)">ArcGIS (optional)</label><br>
              </form>
          </fieldset>
          <fieldset class="singleRow">
          <div class="header">
            <h5>Geographic Scope</h5>
            
          </div>
            <form id="geoScopeSearch">
              <label><input type="checkbox" aria-selected="false" id=geoTogAll value="Select All">Select All</label><br>
              <hr>
              <label><input type="checkbox" aria-selected="false" class="geoChecks" value="Not Available">Not Available</label><br>
              <label><input type="checkbox" aria-selected="false" class="geoChecks" value="State">State</label><br>
              <label><input type="checkbox" aria-selected="false" class="geoChecks" value="Locality">Locality</label><br>
              <label><input type="checkbox" aria-selected="false" class="geoChecks" value="National">National</label><br>
            </form>
          </fieldset>
          <fieldset class="singleRow">
          <div class="header">
            <h5>Tool Function</h5>
            
          </div>
            <form id="toolFunSearch">
              <label><input type="checkbox" aria-selected="false" id=tlfunTogAll value="Select All">Select All</label><br>
              <hr>
              <label><input type="checkbox" aria-selected="false" class="toolFunctChecks" value="None">None</label><br>
              <label><input type="checkbox" aria-selected="false" class="toolFunctChecks" value="View Past/Current Conditions">View Past/Current Conditions</label><br>
              <label><input type="checkbox" aria-selected="false" class="toolFunctChecks" value="View Future Projections">View Future Projections</label><br>
              <label><input type="checkbox" aria-selected="false" class="toolFunctChecks" value="Engagement">Engagement</label><br>
              <label><input type="checkbox" aria-selected="false" class="toolFunctChecks" value="Identify Vulnerabilities">Identify Vulnerabilities</label><br>
            </form>
          </fieldset>
          <fieldset class="singleRow">
            <div class="header">
              <h5>Tool Tags</h5>
              
            </div>
            <form id="tagSearch">
              <label><input type="checkbox" aria-selected="false" id=tagTogAll value="Select All">Select All</label><br>
              <hr>
              <label><input type="checkbox" aria-selected="false" class="tagChecks" value="Easy-to-use, interactive interface">Easy-to-use, interactive interface</label><br>
              <label><input type="checkbox" aria-selected="false" class="tagChecks" value="Provides decadal projections for multiple sea level rise scenarios">Provides decadal projections for multiple sea level rise scenarios</label><br>
              <label><input type="checkbox" aria-selected="false" class="tagChecks" value="Can easily search for locality of interest">Can easily search for locality of interest</label><br>
              <label><input type="checkbox" aria-selected="false" class="tagChecks" value="Flooding forecast is updated every 12 hours">Flooding forecast is updated every 12 hours</label><br>
              <label><input type="checkbox" aria-selected="false" class="tagChecks" value="Can overlay additional features, such as infrastructure and natural resources">Can overlay additional features, such as infrastructure and natural resources</label><br>
              <label><input type="checkbox" aria-selected="false" class="tagChecks" value="Multiple basemap options">Multiple basemap options</label><br>
              <label><input type="checkbox" aria-selected="false" class="tagChecks" value="Easy-to-use interface">Easy-to-use interface</label>
            </form>
          </fieldset>
        </fieldset>
        <button type="button">Find Tools</button>
        </div>

        <hr>
        <h2>Search Results</h2>
        <div>
          <ul id="outputList">

          </ul>
        </div>
      </div>
    </section>
  </div>
</div>
</body>
  </main>

  <footer>
  <div>
    &copy; EESI Team 2020
    ·
    
    <a href="https://creativecommons.org/licenses/by-sa/4.0"
       target="_blank">CC BY-SA 4.0</a>
    
    
  </div>
</footer>


  <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/js/all.min.js"
          integrity="sha256-MAgcygDRahs+F/Nk5Vz387whB4kSK9NXlDN3w58LLq0="
          crossorigin="anonymous"></script>

  

  
</body>
</html>
