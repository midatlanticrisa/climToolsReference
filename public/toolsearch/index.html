<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="generator" content="Hugo 0.69.0" />

  <title>Tool Search &middot; Climate Tools</title>

  <meta name="description" content="" />

  

<meta itemprop="name" content="Tool Search">
<meta itemprop="description" content="">

<meta itemprop="wordCount" content="0">



<meta itemprop="keywords" content="" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Tool Search"/>
<meta name="twitter:description" content=""/>


<meta property="og:title" content="Tool Search" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cbtooltest.marisa.psu.edu/toolsearch/" />




  <link type="text/css"
        rel="stylesheet"
        href="https://cbtooltest.marisa.psu.edu/css/print.css"
        media="print">

  <link type="text/css"
        rel="stylesheet"
        href="https://cbtooltest.marisa.psu.edu/css/poole.css">

  <link type="text/css"
        rel="stylesheet"
        href="https://cbtooltest.marisa.psu.edu/css/hyde.css">

  


  

  <link rel="stylesheet"
        href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700&display=swap">

  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css"
        integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk="
        crossorigin="anonymous" />

  <link rel="apple-touch-icon-precomposed"
        sizes="144x144"
        href="/apple-touch-icon-144-precomposed.png">

  <link rel="shortcut icon" href="/favicon.png">

  
  </head>
<body>
  <aside class="sidebar">
  <div class="container">
    <div class="sidebar-about">
      
      <div class="author-image">
        <img class="profileImage" src="https://www.psu.edu/profiles/psu_profile/themes/psu_main/logonew.png" alt="">
      </div>
      

      <h1>Climate Tools</h1>

      
    </div>

    <nav>
      <ul class="sidebar-nav">
        <li>
          <a href="https://cbtooltest.marisa.psu.edu/">Home</a>
        </li>
        <li>
          <a href="/tools/"> Tools </a>
        </li><li>
          <a href="/toolsearch/"> Tool Search </a>
        </li>
      </ul>
    </nav>

    <section class="social-icons">
      
    </section>
  </div>
</aside>


  <main class="content container">
  <head>
  <meta charset="utf-8">
  <title>jQuery Get Values of Selected Checboxes</title>
  <script src="https://code.jquery.com/jquery-3.5.0.js"></script>
  <script>
      $(document).ready(function() {
        $('#tagTogAll').change(function(){
          var checkboxes = $(this).closest('form').find(':checkbox');
          checkboxes.prop('checked', $(this).is(':checked'));
        })
        $('#reqTogAll').change(function(){
          var checkboxes = $(this).closest('form').find(':checkbox');
          checkboxes.prop('checked', $(this).is(':checked'));
        })

        $("button").click(function(){
          function addTool(name, link){
            this.name = name;
            this.link = link;
          }
          function getType(o) {
            return Object.prototype.toString.call(o).match(/^\[object\s(.*)\]$/)[1];
          }
            
            var showData = $('#outputList');
            var origin = $(location).attr('host');
            var searchTags = [];
            var searchSoftReq = [];
            var inTools = [];
            var searchResults = [];
            var tagData, reqData
            var reSelAll = 'Select All';

            
            $('#tagSearch :checked').each(function(){
              searchTags.push($(this).val());
            });
            if(jQuery.inArray("Select All", searchTags) >= 0){
              searchTags.splice(0,1);
            }

            
            $('#softReqSearch :checked').each(function(){
              searchSoftReq.push($(this).val());
            });
            if(jQuery.inArray("Select All", searchSoftReq) >= 0){
              searchSoftReq.splice(0,1);
            }

            
            showData.empty();

            $.when(
              $.getJSON('/data/searchTags.json', function(data){
                tagData = data;
              }),
              $.getJSON('/data/searchSoft.json', function(data){
                reqData = data;
              })
            ).then(function(){
              var items = tagData.items.map(function (item){
                if(jQuery.inArray(item.tag, searchTags) >= 0){
                  if(jQuery.inArray(item.name, inTools) == -1){
                    inTools.push(item.name);
                    var tool = new addTool(item.name, item.link);
                    searchResults.push(tool)
                  }
                }
              });

              if(searchSoftReq.length>0 && searchResults.length>0){
                $.each(searchResults, function(tool) {
                  var toolName = this.name;
                  var keepTool = 0;
                  var toolReqs = [];
                  var items = reqData.items.map(function (item){
                    if(item.name == toolName){
                      toolReqs.push(item.softReq)
                    }
                  });

                  
                  
                  
                  
                  

                  
                  
                  
                  
                  
                  

                  for (i=0; i<=toolReqs.length; i++) {
                    
                    if(jQuery.inArray(toolReqs[i], searchSoftReq) >= 0){
                      keepTool = 1;
                    }
                  }

                  if(keepTool==0){
                    
                    var whichRemove = jQuery.inArray(toolName, inTools);
                    inTools.splice(whichRemove, 1);
                    searchResults.splice(whichRemove, 1);
                  }

                });
              } else if(searchSoftReq.length>0 && searchResults.length==0){
                var items = reqData.items.map(function (item){
                  if(jQuery.inArray(item.softReq, searchSoftReq) >= 0){
                    if(jQuery.inArray(item.name, inTools) == -1){
                      inTools.push(item.name);
                      var tool = new addTool(item.name, item.link);
                      searchResults.push(tool)
                    }
                  }
              });
            }

            if(searchResults.length > 0){
              $.each(searchResults, function(tool) {
                newTool = '<li><a href="' + '/tools/' + this.link +'/index.html">' + this.name + '</a></li>';
                showData.append(newTool);
              });
            } else {
              showData.text('No tools matching input selection.');
            }
          });
        });
      });
</script>
</head>
<body>
<div class="app-container">
  <div class="app-content">
    <section class="filtered-search">
      <div class="filtered-search-dashboard">
        <div class="filtered-search-banner">
          <h2 class="mb-5">Tool Search</h2>
        </div>
        <div class="filtered-search-filters">
          <fieldset class>
            <fieldset class="singleRow">
              <div class="header">
                <h5>Tool Tags</h5>
                
              </div>
              <form id="tagSearch">
                <label><input type="checkbox" aria-selected="false" id=tagTogAll value="Select All">Select All</label><br>
                <label><input type="checkbox" aria-selected="false" value="Easy-to-use, interactive interface">Easy-to-use, interactive interface</label><br>
                <label><input type="checkbox" aria-selected="false" value="Provides decadal projections for multiple sea level rise scenarios">Provides decadal projections for multiple sea level rise scenarios</label><br>
                <label><input type="checkbox" aria-selected="false" value="Can easily search for locality of interest">Can easily search for locality of interest</label><br>
                <label><input type="checkbox" aria-selected="false" value="Flooding forecast is updated every 12 hours">Flooding forecast is updated every 12 hours</label><br>
                <label><input type="checkbox" aria-selected="false" value="Can overlay additional features, such as infrastructure and natural resources">Can overlay additional features, such as infrastructure and natural resources</label><br>
                <label><input type="checkbox" aria-selected="false" value="Multiple basemap options">Multiple basemap options</label><br>
                <label><input type="checkbox" aria-selected="false" value="Easy-to-use interface">Easy-to-use interface</label>
              </form>
            </fieldset>
            <fieldset class="singleRow">
            <div class="header">
              <h5>Software Requirements</h5>
              
            </div>
              <form id="softReqSearch">
                <label><input type="checkbox" aria-selected="false" id=reqTogAll value="Select All">Select All</label><br>
                <label><input type="checkbox" aria-selected="false" value="None">None</label><br>
                <label><input type="checkbox" aria-selected="false" value="R">R</label><br>
                <label><input type="checkbox" aria-selected="false" value="R Studio">R Studio</label><br>
                <label><input type="checkbox" aria-selected="false" value="ArcMap/ GIS software">ArcMap/ GIS software</label><br>
                <label><input type="checkbox" aria-selected="false" value="ArcGIS (optional)">ArcGIS (optional)</label><br>
              </form>
          </fieldset>
        </fieldset>
          <hr>
          <button type="button">Find Tools</button>
        
        </div>

        <h2>Search Results</h2>
        <div>
          <ul id="outputList">

          </ul>
        </div>
      </div>
    </section>
  </div>
</div>
</body>
  </main>

  <footer>
  <div>
    &copy; EESI Team 2020
    ·
    
    <a href="https://creativecommons.org/licenses/by-sa/4.0"
       target="_blank">CC BY-SA 4.0</a>
    
    
  </div>
</footer>


  <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/js/all.min.js"
          integrity="sha256-MAgcygDRahs+F/Nk5Vz387whB4kSK9NXlDN3w58LLq0="
          crossorigin="anonymous"></script>

  

  
</body>
</html>
